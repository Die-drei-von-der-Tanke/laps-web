{
  "Hosting": {
    "Environment": "HttpSys",
    "HttpSys": {
      "HttpPort": 5000,
      "HttpsPort": 5001,
      "Hostname": "localhost",
      "MaxAccepts": 100,
      "EnableResponseCaching": false,
      "ThrowWriteExceptions": false,
      "MaxConnections": 100,
      "RequestQueueLimit": 1000,
      "MaxRequestBodySize": 2480000,
      "AllowSynchronousIO": false,
      "Http503Verbosity": "Limited",
      "ClientCertificateMethod": "NoCertificate"
    }
  },
  "Authentication": {
    "Mode": "Iwa",
    "Iwa": {
      "AuthenticationSchemes": "Negotiate",
      "ClaimName": "http://schemas.microsoft.com/ws/2008/06/identity/claims/primarysid",
      "IdpLogout": false
    },
    "Oidc": {
      "Authority": "bla",
      "ClientID": "bla",
      "ResponseType": "code id_token",
      "Secret": "bla",
      "ClaimName": "http://schemas.xmlsoap.org/ws/2005/05/identity/claims/upn",
      "IdpLogout": true,
      "Scopes": [
        "profile",
        "openid",
        "profile",
        "openid",
        "profile",
        "openid"
      ]
    },
    "WsFed": {
      "Metadata": "bla",
      "Realm": "bla",
      "ClaimName": "http://schemas.xmlsoap.org/ws/2005/05/identity/claims/upn",
      "IdpLogout": true
    }
  },
  "Authorization": {
    "PowershellProvider": {
      "ScriptFile": "scripts\\authzsample.ps1",
      "Enabled": true,
      "ScriptTimeout": 30
    },
    "JsonProvider": {
      "AuthorizationFile": "targets.json",
      "Enabled": true
    }
  },
  "Auditing": {
    "NotificationChannels": {
      "Smtp": [
        {
          "TemplateSuccess": "EmailAuditSuccess.html",
          "TemplateFailure": "EmailAuditFailure.html",
          "EmailAddresses": [
            "laps@lithnet.local"
          ],
          "Enabled": true,
          "Id": "email-domain-admins",
          "Mandatory": false,
          "DisplayName": "Email LAPS adminstrator"
        },
        {
          "TemplateSuccess": "D:\\dev\\git\\lithnet\\laps-web\\src\\Lithnet.Laps.Web\\Lithnet.AccessManager.Web\\NotificationTemplates\\EmailAuditSuccess.html",
          "TemplateFailure": "D:\\dev\\git\\lithnet\\laps-web\\src\\Lithnet.Laps.Web\\Lithnet.AccessManager.Web\\NotificationTemplates\\EmailAuditFailure.html",
          "EmailAddresses": [
            "support@lithnet.io"
          ],
          "Enabled": true,
          "Id": "5263b7d5-0d0d-4d05-892b-40f2e98a3f72",
          "Mandatory": false,
          "DisplayName": "Email support"
        }
      ],
      "Webhooks": [
        {
          "TemplateSuccess": "SlackTemplateSuccess.json",
          "TemplateFailure": "SlackTemplateFailure.json",
          "Url": "https://xx",
          "HttpMethod": "POST",
          "ContentType": "application/json",
          "Enabled": false,
          "Id": "slack-web-hook-da-channel",
          "Mandatory": false
        },
        {
          "TemplateSuccess": "TeamsTemplateSuccess.json",
          "TemplateFailure": "TeamsTemplateFailure.json",
          "Url": "https://xx",
          "HttpMethod": "POST",
          "ContentType": "application/json",
          "Enabled": false,
          "Id": "teams-web-hook-da-channel",
          "Mandatory": false
        }
      ],
      "Powershell": [
        {
          "Script": "D:\\dev\\git\\lithnet\\laps-web\\src\\Lithnet.Laps.Web\\Lithnet.AccessManager.Web\\Scripts\\AuditingSample.ps1",
          "TimeOut": 10,
          "Enabled": true,
          "Id": "send-to-powershell",
          "Mandatory": false,
          "DisplayName": "My script"
        },
        {
          "Script": "D:\\dev\\git\\lithnet\\laps-web\\src\\Lithnet.Laps.Web\\Lithnet.AccessManager.Web\\Scripts\\AuthZSample.ps1",
          "TimeOut": 10,
          "Enabled": true,
          "Mandatory": false,
          "DisplayName": "my really long script name goes here my really long script name goes here my really long script name goes here "
        }
      ]
    },
    "GlobalNotifications": {
      "OnFailure": [
        "email-domain-admins"
      ],
      "OnSuccess": [
        "email-domain-admins"
      ]
    }
  },
  "Email": {
    "Host": "smtp.lithnet.local",
    "Port": 25,
    "UseSsl": true,
    "UseDefaultCredentials": false,
    "Username": "username",
    "Password": "password",
    "FromAddress": "laps@lithnet.local"
  },
  "RateLimits": {
    "PerIP": {
      "Enabled": true,
      "RequestsPerMinute": 5,
      "RequestsPerHour": 51,
      "RequestsPerDay": 101
    },
    "PerUser": {
      "Enabled": true,
      "RequestsPerMinute": 6,
      "RequestsPerHour": 52,
      "RequestsPerDay": 102
    }
  },
  "UserInterface": {
    "Title": "Lithnet Admin Access Service",
    "UserSuppliedReason": "Optional",
    "AllowLaps": true,
    "AllowJit": true,
    "AllowLapsHistory": true
  },
  "ForwardedHeaders": {
    "ForwardedForHeaderName": "X-FF",
    "ForwardedHostHeaderName": "X-FH",
    "ForwardedProtoHeaderName": "X-Forwarded-Proto",
    "OriginalForHeaderName": "X-Original-For",
    "OriginalHostHeaderName": "X-Original-Host",
    "OriginalProtoHeaderName": "X-Original-Proto",
    "ForwardedHeaders": "None",
    "ForwardLimit": 0,
    "AllowedHosts": [
      "localhost"
    ],
    "RequireHeaderSymmetry": false,
    "KnownProxies": [
      "127.0.0.1",
      "172.0.0.2"
    ],
    "KnownNetworks": [
      "127.0.0.1/32"
    ]
  }
}